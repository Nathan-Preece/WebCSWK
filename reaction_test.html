<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reaction Time Test</title>
    <link rel="stylesheet" href="styles.css">
   
</head>
<body>
    <!-- Navigation bar -->
    <ul>
        <li><a href="home.html">Home</a></li>
        <li><a href="user_development.html">User Development</a></li>
        <li style="float:right"><a href="about.html">About</a></li>
    </ul>

    <!-- Container to center the box -->
    <div id="container">
        <!-- Reaction Box -->
        <div id="reaction_box" onclick="handleClick()">
            <h2>Reaction Time Test</h2>
            <p>Click me to test your reaction speed!</p>
        </div>
    </div>

    <!-- Content displaying result -->
    <div id="content" style="text-align: center; margin-top: 20px;"></div>

    <!-- Exitable pop-up -->
    <div id="popup" class="popup">
        <div id="popup-content">
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        var startTime;
        var reactionTime;
        var timeoutId;

        var reactionBox = document.getElementById("reaction_box");
        var contentDiv = document.getElementById("content");
        var popup = document.getElementById("popup");

        function handleClick() {
            if (!startTime) {
                // Change box color to green after a random delay
                var delay = Math.floor(Math.random() * 3000) + 1000; // Random delay between 1 to 4 seconds
                timeoutId = setTimeout(function() {
                    reactionBox.classList.add("green");
                    startTime = new Date();
                }, delay);
            } else {
                // If box is already green, record reaction time
                if (reactionBox.classList.contains("green")) {
                    reactionTime = new Date() - startTime;
                    clearTimeout(timeoutId);
                    displayResult(reactionTime);
                }
            }
        }

        function displayResult(time) {
    var reactionTimeInSeconds = (time / 1000).toFixed(2); // Convert milliseconds to seconds and round to 2 decimal places

    var animalImage;
    var animalMsg;

    if (time < 200) {
        animalImage = "images/swordfish.jpg";
        animalMsg = "You achieved " + reactionTimeInSeconds + " seconds. You were as quick as a swordfish!";
    } else if (time < 400) {
        animalImage = "images/clownfish.jpg";
        animalMsg = "You achieved " + reactionTimeInSeconds + " seconds. You were as quick as a clownfish!";
    } else {
        animalImage = "images/sea_snail.jpg";
        animalMsg = "You achieved " + reactionTimeInSeconds + " seconds. You were as quick as a sea snail!";
    }

    contentDiv.textContent = "Your reaction time: " + reactionTimeInSeconds + " seconds";

    // Show popup
    popup.style.display = "block";

    // Clear previous content
    var popupContent = document.getElementById("popup-content");
    popupContent.innerHTML = "";

    // Add animal image to the popup
    var animalImageElement = document.createElement("img");
    animalImageElement.src = animalImage;
    animalImageElement.alt = "Animal";
    popupContent.appendChild(animalImageElement);

    // Add animal message to the popup
    var animalMsgElement = document.createElement("p");
    animalMsgElement.textContent = animalMsg;
    popupContent.appendChild(animalMsgElement);

    // Add close button
    var closeButton = document.createElement("button");
    closeButton.textContent = "Close";
    closeButton.onclick = function() {
        closePopup();
        resetBox();
    };
    popupContent.appendChild(closeButton);
}

function resetBox() {
    reactionBox.classList.remove("green");
    reactionBox.textContent = "Click me to keep going!";
    startTime = null;
}



        function closePopup() {
            popup.style.display = "none";
        }
    </script>
</body>
</html>
